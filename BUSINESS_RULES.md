# Business Rules for Interactive Quiz Generator

Based on the requirements outlined in PRD.txt.

## Quiz Creation & Management

1.  **PDF to Interactive Quiz:** Each uploaded PDF quiz corresponds to exactly one interactive quiz.
2.  **Mandatory Metadata:** A teacher *must* provide the following metadata before a quiz can be processed from a PDF:
    *   Standard (e.g., Grade 10)
    *   Subject (e.g., Mathematics)
    *   Target Exam (e.g., JEE, CBSE Board)
    *   Student Batch Name (e.g., Batch A, 2024)
    *   Topics (e.g., Algebra)
3.  **Metadata Priority:** Metadata entered manually by the teacher during upload takes precedence over any metadata potentially extracted from the PDF itself.
4.  **Answer Origin Tracking:** The system must distinguish between answers entered by the teacher and answers generated by AI. This feature is configurable.
5.  **Pre-Save Editing:** Teachers must be able to review and edit extracted questions and answers *before* the interactive quiz is finalized and saved.
6.  **Post-Creation Editing:** Teachers must be able to edit existing quizzes (including questions, answers, properties, and metadata) after they have been created.
7.  **Edit Warning for Shared Quizzes:** If a teacher attempts to edit a quiz that has already been shared with students, a warning message must be displayed.
8.  **Quiz Sharing Link:** A unique, shareable link must be generated for each finalized interactive quiz.
9.  **Question Type (MVP):** For the Minimum Viable Product (MVP), only Multiple Choice Questions (MCQ) are supported in the interactive quiz format.

## Quiz Taking

10. **Access Method:** Students access quizzes exclusively via the unique link provided by the teacher.
11. **Student Identification:** Students must either log in or provide identification (e.g., name, ID) before starting a quiz session.
12. **Time Limits:** Quizzes operate under an allotted time limit for completion.
13. **Submission Confirmation:** Upon successful submission, the system must provide a confirmation message to the student.

## Teacher Dashboard & Analytics

14. **Quiz Filtering:** The teacher dashboard must provide filtering capabilities for created quizzes based on all metadata fields entered during creation (Standard, Subject, Target Exam, Batch Name, Topics) and the quiz creation date.
15. **Submission Status Tracking:** For a selected quiz, the dashboard must clearly display:
    *   Students the quiz was shared with.
    *   Students who have submitted their attempt.
    *   Students who have not yet submitted.
16. **Individual Result Viewing:** Teachers must have the ability to view the detailed responses and scores for any individual student's submitted quiz attempt.
17. **Performance Analysis Metrics:** The analytics engine must enable analysis of student performance, allowing breakdowns by:
    *   Subject
    *   Topic
    *   Subtopic (if applicable/extracted)
    *   Difficulty Level (if applicable/extracted)
18. **Analytics Filtering:** Teachers must be able to filter the analytics data based on metadata fields (standard, subject, batch, etc.) to view performance for individual students or defined groups.

## System & Data Integrity

19. **PDF & Intermediate File Storage:** Original uploaded PDFs and any intermediate structured question paper formats must be stored persistently (e.g., in an S3 bucket).
20. **Metadata & Relational Data Storage:** All quiz metadata, user information, quiz attempts, responses, and necessary mappings must be stored within a relational database (e.g., MySQL).
21. **Unique Quiz Attempts Constraint:** The system must enforce that a student can only have one official attempt record per specific quiz (database constraint `UNIQUE(student_id, quiz_id)`). 